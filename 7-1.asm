ORG 00H
AJMP INITIAL
ORG 03H
JMP INTERRUPT0
ORG 13H
JMP INTERRUPT1
//ORG 0BH
//JMP T0ISR
ORG 50H
INITIAL:
	SETB IT0
	SETB EX0
	CLR IE0
	SETB PX0
	SETB IT1
	SETB EX1
	CLR IE1
	SETB PX0
	SETB EA
	MOV TMOD,#00000001B //select mod
	//MOV IP,#00000001B
	//MOV IE,#82H
	MOV P0,#0H
	MOV P2,#111111111B
START:
	MOV		R0,#71H			;]w应臁A材KBITO北瞽应飒号悭芑P_A0h陪ボ
	MOV		R1,#0B0H
	MOV		R2,#0D0H
	MOV		R3,#0E0H
	MOV		R4,#00H			;p计AC蛹痞r陪ボ50Ω 
MAIN1:
	CJNE	R4,#50H,SHOW1	;P_Ω计A]80R4N]0B陪ボ涵去[@
	MOV		R4,#00H
	INC		R0
//	CALL CHECK
MAIN2:
	CJNE	R0,#7AH,SHOW1	;P  应旒片O_挨Q
	INC		R1				;应飕OQAi
	MOV		R0,#70H
SHOW1:
//	CALL CHECK
BREAKPOINT:
	MOV		P1,R0 			;应旒瞥BzЧFA陪ボ
	CALL	DELAY
	CJNE	R1,#0BAH,SHOW2	;P_Q旒片O_挨Q
	INC		R2				;Q飕OQAi
	MOV		R1,#0B0H
SHOW2:
	MOV		P1,R1 			;Q旒瞥BzЧFA陪ボ
	CALL	DELAY
	CJNE	R2,#0D2H,ISNUM	;P_κ旒片O_挨Q
BACK:
	INC		R3				;κ飕OQAi
	MOV		R2,#0D0H
SHOW3:
	MOV		P1,R2 			;κ旒瞥BzЧFA陪ボ
	CALL	DELAY

	CJNE	R3,#0E1H,SHOW4	;P_d旒片O_挨Q
	MOV		R3,#0E0H
//	CALL 	CHECK
SHOW4:
	MOV		P1,R3			;d斐BzЧFA陪ボ
	CALL	DELAY
//	CALL 	CHECK
BACK2:
	INC		R4
	JMP		MAIN1
ISNUM:
//	CJNE    R0,#70H,BACK
	CJNE    R1,#0B6H,SHOW3
	CJNE    R2,#0D1H,BACK
	MOV     R1,#0B0H;
	JMP     BACK
CHECK:
	CJNE    R1,#0B5H,BREAKPOINT
	CJNE    R2,#0D1H,BREAKPOINT
   	CJNE 	R2,#070H,BREAKPOINT
	MOV P1,#070H
	CALL DELAY
	MOV P1,#0B5H
	CALL DELAY
	MOV P1,#0D1H
	CALL DELAY
	MOV P1,#0E0H
	CALL DELAY
	JMP BREAKPOINT
RESET:
	MOV     R1,#0B0H;
	JMP BACK
INTERRUPT0:
	MOV A,P0
	CPL A
	MOV P0,A
	RETI
INTERRUPT1:
	MOV A,P2
	CPL A
	MOV P2,A
	RETI
DELAY:
	MOV TH0,#0FDH
	MOV TL0,#0D4H
	SETB TR0
HERE:
	JNB TF0,HERE
	CLR TR0
	CLR TF0
	SETB P2.0
	RET
END

;DELAY:
;	MOV		R6,#10H
;DELAY1:
;	MOV		R7,#25H
;DELAY2:
;	DJNZ	R7,DELAY2
;	DJNZ	R6,DELAY1
;	RET